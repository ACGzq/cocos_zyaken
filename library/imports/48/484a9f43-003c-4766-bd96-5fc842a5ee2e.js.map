{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\interface/assets\\scripts\\interface\\Match.js"],"names":["engine","require","mvs","GLB","msg","cc","Class","extends","Component","properties","playerNameOne","default","type","Label","playerNameTwo","playerTwoLayout","Layout","playerTwoLabel","labelRoomID","matchingWay","labelUserID2","back","Node","joinopen","nickName","userList","nameViewList","userIDfontSize","onLoad","self","initEvent","userIDViewList","string","userID","matchinfo","MsMatchInfo","syncFrame","maxPlayer","MAX_PLAYER_COUNT","mode","canWatch","tags","frameInfo","prototype","joinRoomWithProperties","matchType","RANDOM_MATCH","joinRandomRoom","PROPERTY_MATCH","tagsInfo","on","EventType","TOUCH_END","roomID","leaveRoom","isOpen","joinOpen","joinOver","systemEvent","MATCHVS_ERROE_MSG","onEvent","MATCHVS_JOIN_ROOM_RSP","MATCHVS_JOIN_ROOM_NOTIFY","MATCHVS_LEAVE_ROOM","MATCHVS_LEAVE_ROOM_NOTIFY","MATCHVS_JOIN_OPEN_NOTIFY","MATCHVS_JOIN_OPEN_RSP","MATCHVS_JOIN_OVER_RSP","MATCHVS_JOIN_OVER_NOTIFY","MATCHVS_KICK_PLAYER","MATCHVS_KICK_PLAYER_NOTIFY","MATCHVS_NETWORK_STATE_NOTIFY","event","eventData","data","checkBox","getComponent","Toggle","joinRoom","userInfoList","push","roomUserInfo","initUserView","director","loadScene","removeView","leaveRoomInfo","isChecked","console","log","errorCode","kickPlayerRsp","kickPlayerNotify","netNotify","state","kickPlayer","onDestroy","removeEvent","off","name","length","startGame","i","info","JSON","parse","userProfile","fontSize","splice","kickPlayerName","obj"],"mappings":";;;;;;AAAA,IAAIA,SAASC,QAAQ,iCAAR,CAAb;AACA,IAAIC,MAAMD,QAAQ,uBAAR,CAAV;AACA,IAAIE,MAAMF,QAAQ,KAAR,CAAV;AACA,IAAIG,MAAMH,QAAQ,8BAAR,CAAV;AACAI,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,uBAAe;AACXC,qBAAS,IADE;AAEXC,kBAAMP,GAAGQ;AAFE,SADP;AAKRC,uBAAe;AACXH,qBAAS,IADE;AAEXC,kBAAMP,GAAGQ;AAFE,SALP;AASRE,yBAAiBV,GAAGW,MATZ;AAURC,wBAAiBZ,GAAGQ,KAVZ;;AAYRK,qBAAa;AACTP,qBAAS,IADA;AAETC,kBAAMP,GAAGQ;AAFA,SAZL;AAgBRM,qBAAa;AACTR,qBAAS,IADA;AAETC,kBAAMP,GAAGQ;AAFA,SAhBL;AAoBRO,sBAAaf,GAAGQ,KApBR;AAqBRQ,cAAMhB,GAAGiB,IArBD;AAsBRC,kBAAUlB,GAAGiB,IAtBL;AAuBRE,kBAASnB,GAAGQ,KAvBJ;AAwBRY,kBAAU,EAxBF;AAyBRC,sBAAa,EAzBL;AA0BRC,wBAAe;AA1BP,KAHP;;AAiCLC,YAAQ,kBAAY;AAChB,YAAIC,OAAO,IAAX;AACA,aAAKC,SAAL;AACA,aAAKJ,YAAL,GAAoB,CAAC,CAAC,KAAKZ,aAAN,EAAoB,KAAKC,eAAzB,EAAyC,KAAKE,cAA9C,CAAD,CAApB;AACA,aAAKc,cAAL,GAAsB,CAAC,KAAKX,YAAN,CAAtB;AACAS,aAAKL,QAAL,CAAcQ,MAAd,GAAuB,UAAS7B,IAAI8B,MAApC;AACA,YAAIC,YAAY,IAAIhC,IAAIiC,WAAR,EAAhB;AACA,YAAIhC,IAAIiC,SAAR,EAAmB;AACfF,sBAAUG,SAAV,GAAsBlC,IAAImC,gBAA1B;AACAJ,sBAAUK,IAAV,GAAiB,CAAjB;AACAL,sBAAUM,QAAV,GAAqB,CAArB;AACAN,sBAAUO,IAAV,GAAiBtC,IAAIuC,SAArB;AACAb,iBAAKV,WAAL,CAAiBa,MAAjB,GAA0B,OAA1B;AACAhC,mBAAO2C,SAAP,CAAiBC,sBAAjB,CAAwCV,SAAxC,EAAmD,cAAnD;AACH,SAPD,MAOO,IAAI/B,IAAI0C,SAAJ,KAAkB1C,IAAI2C,YAA1B,EAAwC;AAC3C9C,mBAAO2C,SAAP,CAAiBI,cAAjB,CAAgC5C,IAAImC,gBAApC,EAAsD,MAAtD;AACH,SAFM,MAEA,IAAInC,IAAI0C,SAAJ,KAAkB1C,IAAI6C,cAA1B,EAA0C;AAC7Cd,sBAAUG,SAAV,GAAsBlC,IAAImC,gBAA1B;AACAJ,sBAAUK,IAAV,GAAiB,CAAjB;AACAL,sBAAUM,QAAV,GAAqB,CAArB;AACAN,sBAAUO,IAAV,GAAkBtC,IAAI8C,QAAtB;AACApB,iBAAKV,WAAL,CAAiBa,MAAjB,GAA0B,SAA1B;AACAhC,mBAAO2C,SAAP,CAAiBC,sBAAjB,CAAwCV,SAAxC,EAAkD,SAAlD;AACH;;AAED,aAAKb,IAAL,CAAU6B,EAAV,CAAa7C,GAAGiB,IAAH,CAAQ6B,SAAR,CAAkBC,SAA/B,EAA0C,YAAY;AAClDjD,gBAAIkD,MAAJ,GAAa,EAAb;AACArD,mBAAO2C,SAAP,CAAiBW,SAAjB;AACH,SAHD;AAIA,YAAIC,SAAS,IAAb;AACA,aAAKhC,QAAL,CAAc2B,EAAd,CAAiB7C,GAAGiB,IAAH,CAAQ6B,SAAR,CAAkBC,SAAnC,EAA8C,YAAY;AACtDG,qBAAS,CAACA,MAAV;AACA,gBAAGA,MAAH,EAAU;AACNvD,uBAAO2C,SAAP,CAAiBa,QAAjB;AACH,aAFD,MAEK;AACDxD,uBAAO2C,SAAP,CAAiBc,QAAjB;AACH;AACJ,SAPD;AAUH,KAzEI;;AA2EL;;;AAGA3B,eAAU,qBAAY;AAClBzB,WAAGqD,WAAH,CAAeR,EAAf,CAAkB9C,IAAIuD,iBAAtB,EAAwC,KAAKC,OAA7C,EAAqD,IAArD;AACAvD,WAAGqD,WAAH,CAAeR,EAAf,CAAkB9C,IAAIyD,qBAAtB,EAA4C,KAAKD,OAAjD,EAAyD,IAAzD;AACAvD,WAAGqD,WAAH,CAAeR,EAAf,CAAkB9C,IAAI0D,wBAAtB,EAA+C,KAAKF,OAApD,EAA4D,IAA5D;AACAvD,WAAGqD,WAAH,CAAeR,EAAf,CAAkB9C,IAAI2D,kBAAtB,EAAyC,KAAKH,OAA9C,EAAsD,IAAtD;AACAvD,WAAGqD,WAAH,CAAeR,EAAf,CAAkB9C,IAAI4D,yBAAtB,EAAgD,KAAKJ,OAArD,EAA6D,IAA7D;AACAvD,WAAGqD,WAAH,CAAeR,EAAf,CAAkB9C,IAAI6D,wBAAtB,EAA+C,KAAKL,OAApD,EAA4D,IAA5D;AACAvD,WAAGqD,WAAH,CAAeR,EAAf,CAAkB9C,IAAI8D,qBAAtB,EAA4C,KAAKN,OAAjD,EAAyD,IAAzD;AACAvD,WAAGqD,WAAH,CAAeR,EAAf,CAAkB9C,IAAI+D,qBAAtB,EAA4C,KAAKP,OAAjD,EAAyD,IAAzD;AACAvD,WAAGqD,WAAH,CAAeR,EAAf,CAAkB9C,IAAIgE,wBAAtB,EAA+C,KAAKR,OAApD,EAA4D,IAA5D;AACAvD,WAAGqD,WAAH,CAAeR,EAAf,CAAkB9C,IAAIiE,mBAAtB,EAA0C,KAAKT,OAA/C,EAAuD,IAAvD;AACAvD,WAAGqD,WAAH,CAAeR,EAAf,CAAkB9C,IAAIkE,0BAAtB,EAAiD,KAAKV,OAAtD,EAA8D,IAA9D;AACAvD,WAAGqD,WAAH,CAAeR,EAAf,CAAkB9C,IAAImE,4BAAtB,EAAmD,KAAKX,OAAxD,EAAgE,IAAhE;AACH,KA3FI;;AA6FL;;;;AAIAA,aAAQ,iBAAUY,KAAV,EAAiB;AACrB,YAAIC,YAAYD,MAAME,IAAtB;AACA,YAAIC,WAAW,KAAKpD,QAAL,CAAcqD,YAAd,CAA2BvE,GAAGwE,MAA9B,CAAf;AACA,gBAAQL,MAAM5D,IAAd;AACI,iBAAKR,IAAIyD,qBAAT;AACI,qBAAKiB,QAAL,CAAcL,UAAUM,YAAxB;AACA;AACJ,iBAAK3E,IAAI0D,wBAAT;AACI,qBAAKrC,QAAL,CAAcuD,IAAd,CAAmBP,UAAUQ,YAA7B;AACA,qBAAKC,YAAL,CAAkB,KAAKzD,QAAvB;AACA;AACJ,iBAAKrB,IAAI2D,kBAAT;AACI1D,mBAAG8E,QAAH,CAAYC,SAAZ,CAAsB,OAAtB;AACA;AACJ,iBAAKhF,IAAI4D,yBAAT;AACI,qBAAKqB,UAAL,CAAgBZ,UAAUa,aAA1B;AACA;AACJ,iBAAKlF,IAAIgE,wBAAT;AACIO,yBAASY,SAAT,GAAqB,KAArB;AACAC,wBAAQC,GAAR,CAAY,IAAZ;AACA;AACJ,iBAAKrF,IAAI+D,qBAAT;AACIQ,yBAASY,SAAT,GAAqB,KAArB;AACAC,wBAAQC,GAAR,CAAY,IAAZ;AACA;AACJ,iBAAKrF,IAAI8D,qBAAT;AACIS,yBAASY,SAAT,GAAqB,IAArB;AACAC,wBAAQC,GAAR,CAAY,IAAZ;AACA;AACJ,iBAAKrF,IAAI6D,wBAAT;AACIU,yBAASY,SAAT,GAAqB,IAArB;AACAC,wBAAQC,GAAR,CAAY,IAAZ;AACA;AACJ,iBAAKrF,IAAIuD,iBAAT;AACIxD,oBAAIkD,MAAJ,GAAa,EAAb;AACA,oBAAIoB,UAAUiB,SAAV,KAAwB,GAA5B,EAAiC;AAC7BrF,uBAAG8E,QAAH,CAAYC,SAAZ,CAAsB,OAAtB;AACH;AACD;AACJ,iBAAKhF,IAAIiE,mBAAT;AACI,qBAAKgB,UAAL,CAAgBZ,UAAUkB,aAA1B;AACA;AACJ,iBAAKvF,IAAIkE,0BAAT;AACI,qBAAKe,UAAL,CAAgBZ,UAAUmB,gBAA1B;AACA;AACJ,iBAAKxF,IAAImE,4BAAT;AACI,oBAAIE,UAAUoB,SAAV,CAAoBC,KAApB,KAA8B,CAAlC,EAAqC;AACjC9F,2BAAO2C,SAAP,CAAiBoD,UAAjB,CAA4BtB,UAAUoB,SAAV,CAAoB5D,MAAhD,EAAuD,YAAvD;AACH;AACD;AA9CR;AAiDH,KArJI;;AAwJL;;;AAGA+D,eAAU,qBAAY;AAClB,aAAKC,WAAL;AACAT,gBAAQC,GAAR,CAAY,WAAZ;AACH,KA9JI;;AAiKL;;;AAGAQ,iBAAY,uBAAY;AACpB5F,WAAGqD,WAAH,CAAewC,GAAf,CAAmB9F,IAAIuD,iBAAvB,EAAyC,KAAKC,OAA9C;AACAvD,WAAGqD,WAAH,CAAewC,GAAf,CAAmB9F,IAAIyD,qBAAvB,EAA6C,KAAKD,OAAlD;AACAvD,WAAGqD,WAAH,CAAewC,GAAf,CAAmB9F,IAAI0D,wBAAvB,EAAgD,KAAKF,OAArD;AACAvD,WAAGqD,WAAH,CAAewC,GAAf,CAAmB9F,IAAI2D,kBAAvB,EAA0C,KAAKH,OAA/C;AACAvD,WAAGqD,WAAH,CAAewC,GAAf,CAAmB9F,IAAI4D,yBAAvB,EAAiD,KAAKJ,OAAtD;AACAvD,WAAGqD,WAAH,CAAewC,GAAf,CAAmB9F,IAAI6D,wBAAvB,EAAgD,KAAKL,OAArD;AACAvD,WAAGqD,WAAH,CAAewC,GAAf,CAAmB9F,IAAI8D,qBAAvB,EAA6C,KAAKN,OAAlD;AACAvD,WAAGqD,WAAH,CAAewC,GAAf,CAAmB9F,IAAI+D,qBAAvB,EAA6C,KAAKP,OAAlD;AACAvD,WAAGqD,WAAH,CAAewC,GAAf,CAAmB9F,IAAIgE,wBAAvB,EAAgD,KAAKR,OAArD;AACAvD,WAAGqD,WAAH,CAAewC,GAAf,CAAmB9F,IAAIiE,mBAAvB,EAA2C,KAAKT,OAAhD;AACAvD,WAAGqD,WAAH,CAAewC,GAAf,CAAmB9F,IAAIkE,0BAAvB,EAAkD,KAAKV,OAAvD;AACAvD,WAAGqD,WAAH,CAAewC,GAAf,CAAmB9F,IAAImE,4BAAvB,EAAoD,KAAKX,OAAzD;AACH,KAjLI;;AAmLL;;;;AAIAkB,cAAU,kBAAUC,YAAV,EAAwB;AAC9B,aAAK7D,WAAL,CAAiBc,MAAjB,GAA0B+C,aAAa1B,MAAvC;AACAlD,YAAIkD,MAAJ,GAAa0B,aAAa1B,MAA1B;AACA,aAAK3C,aAAL,CAAmBsB,MAAnB,GAA4B7B,IAAIgG,IAAhC;AACA,aAAK1E,QAAL,GAAgBsD,YAAhB;AACA,aAAKG,YAAL,CAAkB,KAAKzD,QAAvB;AACA,YAAI,KAAKA,QAAL,CAAc2E,MAAd,KAAyBjG,IAAImC,gBAAJ,GAAqB,CAAlD,EAAqD;AACjDtC,mBAAO2C,SAAP,CAAiBc,QAAjB;AACA,iBAAK4C,SAAL;AACH;AACJ,KAjMI;;AAmML;;;;AAIAnB,kBAAc,sBAASzD,QAAT,EAAkB;AAC5B,aAAI,IAAI6E,IAAI,CAAZ,EAAeA,IAAI7E,SAAS2E,MAA5B,EAAoCE,GAApC,EAAyC;AACrC,gBAAIC,OAAOC,KAAKC,KAAL,CAAWhF,SAAS6E,CAAT,EAAYI,WAAvB,CAAX;AACA,gBAAI,KAAKhF,YAAL,CAAkB4E,CAAlB,EAAqB,CAArB,EAAwBtE,MAAxB,KAAmC,EAAvC,EAA2C;AACvC,qBAAKN,YAAL,CAAkB4E,CAAlB,EAAqB,CAArB,EAAwBtE,MAAxB,GAAiCuE,KAAKJ,IAAtC;AACA,qBAAKpE,cAAL,CAAoBuE,CAApB,EAAuBtE,MAAvB,GAAgCP,SAAS6E,CAAT,EAAYrE,MAA5C;AACA,qBAAKF,cAAL,CAAoBuE,CAApB,EAAuBK,QAAvB,GAAkC,KAAKhF,cAAvC;AACA;AACH;AACJ;AACD,YAAI,KAAKF,QAAL,CAAc2E,MAAd,KAAyBjG,IAAImC,gBAAJ,GAAqB,CAAlD,EAAqD;AACjDtC,mBAAO2C,SAAP,CAAiBc,QAAjB;AACA,iBAAK4C,SAAL;AACA;AACH;AACJ,KAtNI;;AAwNL;;;;AAIAhB,gBAAW,oBAAUkB,IAAV,EAAgB;AACvB,aAAI,IAAID,IAAI,CAAZ,EAAeA,IAAI,KAAK7E,QAAL,CAAc2E,MAAjC,EAAwCE,GAAxC,EAA8C;AAC1C,gBAAGC,KAAKtE,MAAL,KAAgB,KAAKR,QAAL,CAAc6E,CAAd,EAAiBrE,MAApC,EAA4C;AACxC,qBAAKR,QAAL,CAAcmF,MAAd,CAAqBN,CAArB,EAAuB,CAAvB;AACA,qBAAK5E,YAAL,CAAkB4E,CAAlB,EAAqB,CAArB,EAAwBtE,MAAxB,GAAiC,EAAjC;AACA,qBAAKD,cAAL,CAAoBuE,CAApB,EAAuBtE,MAAvB,GAAgCsE,IAAE,CAAlC;AACA,qBAAKvE,cAAL,CAAoBuE,CAApB,EAAuBK,QAAvB,GAAkC,EAAlC;AACH;AACJ;AACJ,KArOI;;AAuOLE,oBAAgB,wBAAU5E,MAAV,EAAkB;AAC9B,aAAK,IAAIqE,CAAT,IAAe,KAAK7E,QAApB,EAA8B;AAC1B,gBAAGQ,WAAW,KAAKR,QAAL,CAAc6E,CAAd,EAAiBrE,MAA/B,EAAuC;AACnC,qBAAKR,QAAL,CAAcmF,MAAd,CAAqBN,CAArB,EAAuB,CAAvB;AACH;AACD,gBAAIQ,MAAMN,KAAKC,KAAL,CAAW,KAAKhF,QAAL,CAAc6E,CAAd,EAAiBI,WAA5B,CAAV;AACA,gBAAII,IAAI7E,MAAJ,KAAeA,MAAnB,EAA2B;AACvB,qBAAI,IAAIqE,KAAI,CAAZ,EAAeA,KAAI,KAAK5E,YAAL,CAAkB0E,MAArC,EAA6CE,IAA7C,EAAkD;AAC9C,wBAAG,KAAK7E,QAAL,CAAc6E,EAAd,EAAiBH,IAAjB,KAA0B,KAAKzE,YAAL,CAAkB4E,EAAlB,EAAqB,CAArB,EAAwBtE,MAArD,EAA6D;AACzD,6BAAKN,YAAL,CAAkB4E,EAAlB,EAAqB,CAArB,EAAwBtE,MAAxB,GAAiC,EAAjC;AACA;AACH;AACJ;AACJ;AACJ;AACJ,KAtPI;;AAyPLqE,eAAW,qBAAY;AACnBhG,WAAG8E,QAAH,CAAYC,SAAZ,CAAsB,aAAtB;AACH;AA3PI,CAAT","file":"Match.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\interface","sourcesContent":["let engine = require(\"../MatchvsLib/MatchvsDemoEngine\");\nlet mvs = require(\"../MatchvsLib/Matchvs\");\nlet GLB = require(\"Glb\");\nlet msg = require(\"../MatchvsLib/MatvhvsMessage\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        playerNameOne: {\n            default: null,\n            type: cc.Label\n        },\n        playerNameTwo: {\n            default: null,\n            type: cc.Label\n        },\n        playerTwoLayout: cc.Layout,\n        playerTwoLabel : cc.Label,\n        \n        labelRoomID: {\n            default: null,\n            type: cc.Label\n        },\n        matchingWay: {\n            default: null,\n            type: cc.Label\n        },\n        labelUserID2:cc.Label,\n        back: cc.Node,\n        joinopen: cc.Node,\n        nickName:cc.Label,\n        userList :[],\n        nameViewList:[],\n        userIDfontSize:26,\n    },\n\n\n    onLoad: function () {\n        let self = this;\n        this.initEvent();\n        this.nameViewList = [[this.playerNameTwo,this.playerTwoLayout,this.playerTwoLabel]];\n        this.userIDViewList = [this.labelUserID2];\n        self.nickName.string = '用户ID：'+ GLB.userID;\n        let matchinfo = new mvs.MsMatchInfo();\n        if (GLB.syncFrame) {\n            matchinfo.maxPlayer = GLB.MAX_PLAYER_COUNT;\n            matchinfo.mode = 0;\n            matchinfo.canWatch = 1;\n            matchinfo.tags = GLB.frameInfo;\n            self.matchingWay.string = \"帧同步模式\" ;\n            engine.prototype.joinRoomWithProperties(matchinfo, \"Matchvs帧同步模式\");\n        } else if (GLB.matchType === GLB.RANDOM_MATCH) {\n            engine.prototype.joinRandomRoom(GLB.MAX_PLAYER_COUNT, \"随机匹配\");\n        } else if (GLB.matchType === GLB.PROPERTY_MATCH) {\n            matchinfo.maxPlayer = GLB.MAX_PLAYER_COUNT;\n            matchinfo.mode = 0;\n            matchinfo.canWatch = 1;\n            matchinfo.tags =  GLB.tagsInfo;\n            self.matchingWay.string = \"自定义属性匹配\" ;\n            engine.prototype.joinRoomWithProperties(matchinfo,\"自定义属性匹配\");\n        }\n\n        this.back.on(cc.Node.EventType.TOUCH_END, function () {\n            GLB.roomID = \"\";\n            engine.prototype.leaveRoom();\n        });\n        let isOpen = true;\n        this.joinopen.on(cc.Node.EventType.TOUCH_END, function () {\n            isOpen = !isOpen;\n            if(isOpen){\n                engine.prototype.joinOpen();\n            }else{\n                engine.prototype.joinOver();\n            }\n        });\n\n\n    },\n\n    /**\n     * 注册对应的事件监听和把自己的原型传递进入，用于发送事件使用\n     */\n    initEvent:function () {\n        cc.systemEvent.on(msg.MATCHVS_ERROE_MSG,this.onEvent,this);\n        cc.systemEvent.on(msg.MATCHVS_JOIN_ROOM_RSP,this.onEvent,this);\n        cc.systemEvent.on(msg.MATCHVS_JOIN_ROOM_NOTIFY,this.onEvent,this);\n        cc.systemEvent.on(msg.MATCHVS_LEAVE_ROOM,this.onEvent,this);\n        cc.systemEvent.on(msg.MATCHVS_LEAVE_ROOM_NOTIFY,this.onEvent,this);\n        cc.systemEvent.on(msg.MATCHVS_JOIN_OPEN_NOTIFY,this.onEvent,this);\n        cc.systemEvent.on(msg.MATCHVS_JOIN_OPEN_RSP,this.onEvent,this);\n        cc.systemEvent.on(msg.MATCHVS_JOIN_OVER_RSP,this.onEvent,this);\n        cc.systemEvent.on(msg.MATCHVS_JOIN_OVER_NOTIFY,this.onEvent,this);\n        cc.systemEvent.on(msg.MATCHVS_KICK_PLAYER,this.onEvent,this);\n        cc.systemEvent.on(msg.MATCHVS_KICK_PLAYER_NOTIFY,this.onEvent,this);\n        cc.systemEvent.on(msg.MATCHVS_NETWORK_STATE_NOTIFY,this.onEvent,this);\n    },\n\n    /**\n     * 事件接收方法\n     * @param event\n     */\n    onEvent:function (event) {\n        let eventData = event.data;\n        let checkBox = this.joinopen.getComponent(cc.Toggle);\n        switch (event.type) {\n            case msg.MATCHVS_JOIN_ROOM_RSP:\n                this.joinRoom(eventData.userInfoList);\n                break;\n            case msg.MATCHVS_JOIN_ROOM_NOTIFY:\n                this.userList.push(eventData.roomUserInfo);\n                this.initUserView(this.userList);\n                break;\n            case msg.MATCHVS_LEAVE_ROOM:\n                cc.director.loadScene('Lobby');\n                break;\n            case msg.MATCHVS_LEAVE_ROOM_NOTIFY:\n                this.removeView(eventData.leaveRoomInfo);\n                break;\n            case msg.MATCHVS_JOIN_OVER_NOTIFY:\n                checkBox.isChecked = false;\n                console.log(\"关闭\");\n                break;\n            case msg.MATCHVS_JOIN_OVER_RSP:\n                checkBox.isChecked = false;\n                console.log(\"关闭\");\n                break;\n            case msg.MATCHVS_JOIN_OPEN_RSP:\n                checkBox.isChecked = true;\n                console.log(\"打开\");\n                break;\n            case msg.MATCHVS_JOIN_OPEN_NOTIFY:\n                checkBox.isChecked = true;\n                console.log(\"打开\");\n                break;\n            case msg.MATCHVS_ERROE_MSG:\n                GLB.roomID = \"\";\n                if (eventData.errorCode !== 400) {\n                    cc.director.loadScene('Login');\n                }\n                break;\n            case msg.MATCHVS_KICK_PLAYER:\n                this.removeView(eventData.kickPlayerRsp);\n                break;\n            case msg.MATCHVS_KICK_PLAYER_NOTIFY:\n                this.removeView(eventData.kickPlayerNotify);\n                break;\n            case msg.MATCHVS_NETWORK_STATE_NOTIFY:\n                if (eventData.netNotify.state === 1) {\n                    engine.prototype.kickPlayer(eventData.netNotify.userID,\"你断线了，被提出房间\");\n                }\n                break;\n        }\n\n    },\n\n\n    /**\n     * 生命周期，页面销毁\n     */\n    onDestroy:function () {\n        this.removeEvent();\n        console.log(\"Match页面销毁\");\n    },\n\n\n    /**\n     * 取消事件监听\n     */\n    removeEvent:function () {\n        cc.systemEvent.off(msg.MATCHVS_ERROE_MSG,this.onEvent);\n        cc.systemEvent.off(msg.MATCHVS_JOIN_ROOM_RSP,this.onEvent);\n        cc.systemEvent.off(msg.MATCHVS_JOIN_ROOM_NOTIFY,this.onEvent);\n        cc.systemEvent.off(msg.MATCHVS_LEAVE_ROOM,this.onEvent);\n        cc.systemEvent.off(msg.MATCHVS_LEAVE_ROOM_NOTIFY,this.onEvent);\n        cc.systemEvent.off(msg.MATCHVS_JOIN_OPEN_NOTIFY,this.onEvent);\n        cc.systemEvent.off(msg.MATCHVS_JOIN_OPEN_RSP,this.onEvent);\n        cc.systemEvent.off(msg.MATCHVS_JOIN_OVER_RSP,this.onEvent);\n        cc.systemEvent.off(msg.MATCHVS_JOIN_OVER_NOTIFY,this.onEvent);\n        cc.systemEvent.off(msg.MATCHVS_KICK_PLAYER,this.onEvent);\n        cc.systemEvent.off(msg.MATCHVS_KICK_PLAYER_NOTIFY,this.onEvent);\n        cc.systemEvent.off(msg.MATCHVS_NETWORK_STATE_NOTIFY,this.onEvent);\n    },\n\n    /**\n     * 进入房间业务逻辑\n     * @param userInfoList\n     */\n    joinRoom: function (userInfoList) {\n        this.labelRoomID.string = userInfoList.roomID;\n        GLB.roomID = userInfoList.roomID;\n        this.playerNameOne.string = GLB.name;\n        this.userList = userInfoList;\n        this.initUserView(this.userList);\n        if (this.userList.length === GLB.MAX_PLAYER_COUNT-1) {\n            engine.prototype.joinOver();\n            this.startGame();\n        }\n    },\n\n    /**\n     * 展示玩家信息\n     * @param userList\n     */\n    initUserView :function(userList){\n        for(let i = 0; i < userList.length; i++) {\n            let info = JSON.parse(userList[i].userProfile);\n            if (this.nameViewList[i][0].string === \"\") {\n                this.nameViewList[i][0].string = info.name;\n                this.userIDViewList[i].string = userList[i].userID;\n                this.userIDViewList[i].fontSize = this.userIDfontSize;\n                // this.nameViewList[i][1].node.color = '#96E8B5';\n            }\n        }\n        if (this.userList.length === GLB.MAX_PLAYER_COUNT-1) {\n            engine.prototype.joinOver();\n            this.startGame();\n            //1 是游戏已经开始\n        }\n    },\n\n    /**\n     * 玩家退出将玩家的信息从页面上消失\n     * @param info\n     */\n    removeView:function (info) {\n        for(let i = 0; i < this.userList.length;i++ ) {\n            if(info.userID === this.userList[i].userID) {\n                this.userList.splice(i,1);\n                this.nameViewList[i][0].string = \"\";\n                this.userIDViewList[i].string = i+2;\n                this.userIDViewList[i].fontSize = 80;\n            }\n        }\n    },\n\n    kickPlayerName :function (userID) {\n        for (let i in  this.userList) {\n            if(userID === this.userList[i].userID) {\n                this.userList.splice(i,1);\n            }\n            let obj = JSON.parse(this.userList[i].userProfile);\n            if (obj.userID === userID) {\n                for(let i = 0; i < this.nameViewList.length; i++) {\n                    if(this.userList[i].name === this.nameViewList[i][0].string) {\n                        this.nameViewList[i][0].string = \"\";\n                        return;\n                    }\n                }\n            }\n        }\n    },\n\n\n    startGame: function () {\n        cc.director.loadScene('zyankenGame');\n    },\n});\n"]}