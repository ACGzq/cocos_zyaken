{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\interface/assets\\scripts\\interface\\zyankenGame.js"],"names":["mvs","require","GLB","msg","engine","cc","Class","extends","Component","properties","isStart","isOwner","scissors","Prefab","hammer","cloth","background","Node","scoreDisplayA","default","type","Label","scoreDisplayB","unknowCard1","unknowCard2","unknowCard3","cardS","cardH","cardC","dialog","dialogButton","yes","cancle","label","receiveCardType","localCardType","isLead","isOpponentDone","actionTime","index","unknowCardPosX","unknowCardPosY","origniPosX","origniPosY","buttonLeaveRoom","card","cards","onLoad","self","Array","isRoomOwner","mapType","loader","loadRes","SpriteFrame","err","spriteFrame","console","error","log","prototype","getRoomDetail","roomID","initEvent","userID","active","scoreA","scoreB","hideButton","on","EventType","TOUCH_END","x","y","action","moveTo","v2","runAction","showButtonAfter","sendEventEx","PLAYER_LEAD","PLAYER_DONE","trial","PLAYER_CANCLE","gameOver","reset","hideDialog","setPosition","destroy","systemEvent","MATCHVS_ROOM_DETAIL","onEvent","MATCHVS_SEND_EVENT_NOTIFY","MATCHVS_SEND_EVENT_RSP","MATCHVS_ERROE_MSG","MATCHVS_FRAME_UPDATE","PLAYER_POSINTON","MATCHVS_LEAVE_ROOM_NOTIFY","MATCHVS_LEAVE_ROOM","MATCHVS_NETWORK_STATE_NOTIFY","MATCHVS_SET_FRAME_SYNC_RSP","event","eventData","data","rsp","owner","onNewWorkGameEvent","eventInfo","errorCode","errorMsg","networkStateNotify","netNotify","spawnNewCard","name","newCard","instantiate","cardPrefab","node","addChild","getComponent","game","gainScoreA","string","gainScoreB","start","update","dt","EX","JSON","stringify","sendEvent","sendEventResponse","sendEventRsp","status","sequence","isGameOver","leaveRoom","director","loadScene","parse","cpProto","scheduleOnce","showDialogAfter","m","state","GAME_RECONNECT","setTimeout","removeEvent","off","onDestroy","syncFrame"],"mappings":"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","file":"zyankenGame.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\interface","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\nlet mvs = require(\"../MatchvsLib/Matchvs\");\r\nlet GLB = require(\"../interface/Glb\");\r\nlet msg = require(\"../MatchvsLib/MatvhvsMessage\");\r\nlet engine = require(\"../MatchvsLib/MatchvsDemoEngine\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        isStart:false,\r\n        isOwner:false,\r\n        scissors:cc.Prefab,\r\n        hammer:cc.Prefab,\r\n        cloth:cc.Prefab,\r\n        background:cc.Node,\r\n        // score label 的引用\r\n        scoreDisplayA: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        // score label 的引用\r\n        scoreDisplayB: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        unknowCard1:{\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        unknowCard2:{\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        unknowCard3:{\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        cardS:{\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        cardH:{\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        cardC:{\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        dialog:cc.Node,\r\n        dialogButton:cc.Node,\r\n        yes:cc.Node,\r\n        cancle:cc.Node,\r\n        label: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        receiveCardType:\"\",\r\n        localCardType:\"\",\r\n        isLead:false,\r\n        isOpponentDone:false,\r\n        actionTime:0.3,\r\n        index:0,\r\n        unknowCardPosX:0,\r\n        unknowCardPosY:0,\r\n        origniPosX:0,\r\n        origniPosY:0,\r\n        buttonLeaveRoom: cc.Node,\r\n        card:null,\r\n        cards:null,\r\n    },\r\n    // 地面节点，用于确定星星生成的高度\r\n    \r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        let self = this;\r\n        this.cards = new Array();\r\n        this.cards[\"Cloth\"] = this.cloth;\r\n        this.cards[\"Hammer\"] = this.hammer;\r\n        this.cards[\"Scissors\"] = this.scissors;\r\n        this.isOwner = GLB.isRoomOwner;\r\n        \r\n        if(GLB.mapType == \"森林\"){\r\n            cc.loader.loadRes(\"background\", cc.SpriteFrame, function (err, spriteFrame) {\r\n                if (err) {\r\n                    console.error('load avatar image error', err);\r\n                    return;\r\n                }\r\n                console.log(\"loadRes\");\r\n                self.background.spriteFrame  = spriteFrame;\r\n            }) ;  \r\n        }\r\n        engine.prototype.getRoomDetail(GLB.roomID);\r\n        this.initEvent();\r\n        console.log(\"房间号:\" + GLB.roomID+ \"_用户id:\" + GLB.userID);\r\n        console.log(\"isOwner\",this.isOwner); \r\n        this.yes.active = false;\r\n        this.cancle.active = false;\r\n        this.scoreA = 0;\r\n        this.scoreB = 0; \r\n        this.hideButton();\r\n        this.cardC.on(cc.Node.EventType.TOUCH_END,function () {\r\n            if(!self.isLead){\r\n                self.localCardType = \"Cloth\";\r\n                self.origniPosX = self.cardC.x;\r\n                self.origniPosY = self.cardC.y;\r\n                var action = cc.moveTo(self.actionTime,cc.v2(0, -60));\r\n                self.cardC.runAction(action);\r\n                self.showButtonAfter(0.3);\r\n                self.sendEventEx(msg.PLAYER_LEAD);\r\n            }\r\n        });\r\n        this.cardS.on(cc.Node.EventType.TOUCH_END,function () {\r\n            if(!self.isLead){\r\n                self.localCardType = \"Scissors\";\r\n                self.origniPosX = self.cardS.x;\r\n                self.origniPosY = self.cardS.y;\r\n                var action = cc.moveTo(self.actionTime,cc.v2(0, -60));\r\n                self.cardS.runAction(action);\r\n                self.showButtonAfter(0.3);\r\n                self.sendEventEx(msg.PLAYER_LEAD);\r\n            }\r\n        });\r\n        this.cardH.on(cc.Node.EventType.TOUCH_END,function () {\r\n            if(!self.isLead){\r\n                self.localCardType = \"Hammer\";\r\n                self.origniPosX = self.cardH.x;\r\n                self.origniPosY = self.cardH.y;\r\n                var action = cc.moveTo(self.actionTime,cc.v2(0, -60));\r\n                self.cardH.runAction(action);\r\n                self.showButtonAfter(0.3);\r\n                self.sendEventEx(msg.PLAYER_LEAD);\r\n            }\r\n        });\r\n        this.yes.on(cc.Node.EventType.TOUCH_END,function (){\r\n            self.sendEventEx(msg.PLAYER_DONE);\r\n            self.isLead = true;\r\n            self.hideButton();\r\n            if(self.isOpponentDone){\r\n                self.trial();\r\n            }\r\n        });\r\n        this.cancle.on(cc.Node.EventType.TOUCH_END,function (){\r\n            var action = cc.moveTo(self.actionTime,cc.v2(self.origniPosX, self.origniPosY));\r\n            if(self.localCardType == \"Cloth\"){\r\n                self.cardC.runAction(action);\r\n            }else if(self.localCardType == \"Hammer\"){\r\n                self.cardH.runAction(action);\r\n            }else if(self.localCardType == \"Scissors\"){\r\n                self.cardS.runAction(action);\r\n            }\r\n            self.sendEventEx(msg.PLAYER_CANCLE);\r\n            self.hideButton();\r\n        });\r\n        this.buttonLeaveRoom.on(cc.Node.EventType.TOUCH_END, function () {\r\n            self.gameOver();\r\n        });\r\n        this.dialogButton.on(cc.Node.EventType.TOUCH_END,this.reset,this);\r\n        \r\n    },\r\n    reset:function(){\r\n        this.hideDialog();\r\n        this.hideButton();\r\n        \r\n        if(this.localCardType == \"Cloth\"){\r\n            this.cardC.setPosition(cc.v2(this.origniPosX, this.origniPosY));\r\n        }else if(this.localCardType == \"Hammer\"){\r\n            this.cardH.setPosition(cc.v2(this.origniPosX, this.origniPosY));\r\n        }else if(this.localCardType == \"Scissors\"){\r\n            this.cardS.setPosition(cc.v2(this.origniPosX, this.origniPosY));\r\n        }\r\n        this.card.destroy();\r\n        try {\r\n           this.unknowCard1.setPosition(cc.v2(-200,250));\r\n        } catch (error) {\r\n            console.error(\"setPosition fail\",error);\r\n        }\r\n        \r\n        this.isLead = false;\r\n        this.isOpponentDone = false;\r\n        this.localCardType = \"\";\r\n        this.receiveCardType = \"\";\r\n    },\r\n    /**\r\n     * 注册对应的事件监听和把自己的原型传递进入，用于发送事件使用\r\n     */\r\n    initEvent:function () {\r\n        cc.systemEvent.on(msg.MATCHVS_ROOM_DETAIL,this.onEvent,this);\r\n        cc.systemEvent.on(msg.MATCHVS_SEND_EVENT_NOTIFY,this.onEvent,this);\r\n        cc.systemEvent.on(msg.MATCHVS_SEND_EVENT_RSP,this.onEvent,this);\r\n        cc.systemEvent.on(msg.MATCHVS_ERROE_MSG,this.onEvent,this);\r\n        cc.systemEvent.on(msg.MATCHVS_FRAME_UPDATE,this.onEvent,this);\r\n        cc.systemEvent.on(msg.PLAYER_POSINTON,this.onEvent,this);\r\n        cc.systemEvent.on(msg.MATCHVS_LEAVE_ROOM_NOTIFY,this.onEvent,this);\r\n        cc.systemEvent.on(msg.MATCHVS_LEAVE_ROOM,this.onEvent,this);\r\n        cc.systemEvent.on(msg.MATCHVS_NETWORK_STATE_NOTIFY,this.onEvent,this);\r\n        cc.systemEvent.on(msg.MATCHVS_SET_FRAME_SYNC_RSP,this.onEvent,this);\r\n    },\r\n    onEvent :function (event) {\r\n        let eventData = event.data;\r\n        switch(event.type) {\r\n            case msg.MATCHVS_ROOM_DETAIL:\r\n                if (eventData.rsp.owner === GLB.userID) {\r\n                    GLB.isRoomOwner = true;\r\n                }\r\n                console.log(\"MATCHVS_ROOM_DETAIL:\",eventData);\r\n                break;\r\n            case msg.MATCHVS_SEND_EVENT_RSP:\r\n                //console.log(\"MATCHVS_SEND_EVENT_RSP:\",eventData);\r\n                break;\r\n            case msg.MATCHVS_SEND_EVENT_NOTIFY:\r\n                this.onNewWorkGameEvent(eventData.eventInfo);\r\n                break;\r\n            case msg.MATCHVS_ERROE_MSG:\r\n                console.log(\"[Err]errCode:\"+eventData.errorCode+\" errMsg:\"+eventData.errorMsg);\r\n                //cc.director.loadScene('Login');\r\n                break;\r\n            case msg.MATCHVS_LEAVE_ROOM_NOTIFY:\r\n                console.log(\"leaveRoomNotify\");\r\n                this.gameOver();\r\n                \r\n                break;\r\n            case msg.MATCHVS_NETWORK_STATE_NOTIFY:\r\n                this.networkStateNotify(eventData.netNotify);\r\n                break;\r\n        }\r\n    },\r\n    \r\n    spawnNewCard:function(name){\r\n       var newCard =  cc.instantiate(this.cardPrefab);\r\n       // 将新增的节点添加到 Canvas 节点下面\r\n       this.node.addChild(newCard);\r\n       // 设置一个位置\r\n       newCard.setPosition(0,0);\r\n        // 在组件上暂存 Game 对象的引用\r\n        this.newCard = newCard.getComponent(name);\r\n        this.newCard.game = this;\r\n    },\r\n  \r\n    gainScoreA: function () {\r\n        this.scoreA += 1;\r\n        // 更新 scoreDisplay Label 的文字\r\n        this.scoreDisplayA.string = 'playerA: ' + this.scoreA;\r\n    },\r\n    gainScoreB: function () {\r\n        this.scoreB += 1;\r\n        // 更新 scoreDisplay Label 的文字\r\n        this.scoreDisplayB.string = 'playerB: ' + this.scoreB;\r\n    },\r\n    start () {\r\n      this.isStart = true;\r\n    },\r\n    \r\n    update (dt) {\r\n        \r\n    },\r\n    sendEventEx(EX){\r\n        console.log(\"sendEventEx\");\r\n        let eventData = JSON.stringify({\r\n            \"action\": EX,\r\n            \"card\": this.localCardType,\r\n        });\r\n        engine.prototype.sendEvent(eventData);\r\n    },\r\n    \r\n    sendEventResponse(sendEventRsp){\r\n        console.log(\"返回状态：\", sendEventRsp.status);\r\n        console.log(\"事件序号：\", sendEventRsp.sequence);\r\n    },\r\n\r\n    // 游戏结束\r\n    gameOver: function () {\r\n        console.log(\"gameOver\");\r\n        GLB.isGameOver = true;\r\n        this.cardC.destroy();\r\n        this.cardS.destroy();\r\n        this.cardH.destroy();\r\n        this.unknowCard1.destroy();\r\n        this.unknowCard2.destroy();\r\n        this.unknowCard3.destroy();\r\n        engine.prototype.leaveRoom();\r\n        cc.director.loadScene('Lobby');\r\n    },\r\n\r\n    onNewWorkGameEvent : function(eventInfo){\r\n        console.log(\"消息内容：\", eventInfo);\r\n        let event = JSON.parse(eventInfo.cpProto);\r\n        switch(event.action){\r\n            case msg.PLAYER_DONE:\r\n            this.isOpponentDone = true;\r\n                if(this.isLead)\r\n                    this.scheduleOnce(this.trial,0.5);\r\n            break;\r\n            case msg.PLAYER_CANCLE:\r\n            this.receiveCardType = false;\r\n            var action = cc.moveTo(this.actionTime,cc.v2(this.unknowCardPosX, this.unknowCardPosY));\r\n            this.unknowCard1.runAction(action);\r\n              /*  switch(this.index%3){\r\n                    case 0:\r\n                    this.unknowCard1.runAction(action);\r\n                    case 1:\r\n                    this.unknowCard2.runAction(action);\r\n                    case 2:\r\n                    this.unknowCard3.runAction(action);\r\n                    default:\r\n                    //this.unknowCard1.runAction(action);\r\n                }*/\r\n            break;\r\n            case msg.PLAYER_LEAD:\r\n                this.receiveCardType = event.card;\r\n                var action = cc.moveTo(this.actionTime,cc.v2(0, 100));\r\n                this.unknowCardPosX = this.unknowCard1.x;\r\n                this.unknowCardPosY = this.unknowCard1.y;\r\n                this.unknowCard1.runAction(action);\r\n                /*this.index +=1;\r\n                switch(this.index%3){\r\n                    case 0:\r\n                    this.unknowCardPosX = this.unknowCard1.x;\r\n                    this.unknowCardPosY = this.unknowCard1.y;\r\n                    this.unknowCard1.runAction(action);\r\n                    case 1:\r\n                    this.unknowCardPosX = this.unknowCard2.x;\r\n                    this.unknowCardPosY = this.unknowCard2.y;\r\n                    this.unknowCard2.runAction(action);\r\n                    case 2:\r\n                    this.unknowCardPosX = this.unknowCard3.x;\r\n                    this.unknowCardPosY = this.unknowCard3.y;\r\n                    this.unknowCard2.runAction(action);\r\n                    default:\r\n                }*/\r\n                \r\n                break;\r\n            default:\r\n        }\r\n        \r\n    },\r\n    trial:function(){\r\n        console.log(\"a =\"+this.localCardType+\",b=\"+this.receiveCardType);\r\n        this.card = cc.instantiate(this.cards[this.receiveCardType]);\r\n        this.node.addChild(this.card);\r\n        this.card.setPosition(cc.v2(0, 100));\r\n        if(this.localCardType == this.receiveCardType){\r\n                this.label.string = \"is draw\";\r\n        }else if(this.localCardType == \"Cloth\" && this.receiveCardType == \"Hammer\" \r\n        || this.localCardType == \"Hammer\" && this.receiveCardType == \"Scissors\"\r\n        || this.localCardType == \"Scissors\" && this.receiveCardType == \"Cloth\"){\r\n            console.log(\"you win\");\r\n            this.gainScoreA();\r\n            this.label.string = \"you win\";\r\n        }else{\r\n            console.log(\"you lost\");\r\n            this.gainScoreB();\r\n            this.label.string = \"you lost\";\r\n        }\r\n        this.showDialogAfter(1);\r\n    },\r\n    showDialogAfter:function(m){\r\n        let self = this;\r\n        this.scheduleOnce(function(){\r\n            self.dialog.setPosition(cc.v2(0, -80));\r\n        },m);\r\n    },\r\n    hideDialog:function(){\r\n        this.dialog.setPosition(cc.v2(3000,3000));\r\n    },\r\n    showButtonAfter:function(m){\r\n        let self = this;\r\n        this.scheduleOnce(function(){\r\n            self.yes.active = true;\r\n            self.cancle.active = true;\r\n        },m);\r\n        \r\n    },\r\n    hideButton:function(){\r\n        this.yes.active = false;\r\n        this.cancle.active = false;\r\n    },\r\n    networkStateNotify: function (netNotify) {\r\n        console.log(\"netNotify\");\r\n        console.log(\"netNotify.owner:\" + netNotify.owner);\r\n        if (netNotify.owner === GLB.userID) {\r\n            GLB.isRoomOwner = true;\r\n        }\r\n        if (netNotify.userID === GLB.userID && netNotify.state === 1) {\r\n            console.log(\"netNotify.userID :\"+netNotify.userID +\"netNotify.state: \"+netNotify.state);\r\n            cc.director.loadScene(\"Login\");\r\n        }\r\n\r\n        console.log(\"玩家：\" + netNotify.userID + \" state:\" + netNotify.state);\r\n        if (netNotify.state === 2) {\r\n            console.log(\"玩家已经重连进来\");\r\n            let event = {\r\n                action: msg.GAME_RECONNECT,\r\n                //cpProto: this.userScores\r\n            };\r\n            setTimeout(function() {\r\n                mvs.engine.sendEventEx(0,JSON.stringify(event),0,[netNotify.userID]);\r\n                } ,500\r\n            );\r\n        }\r\n        \r\n    },\r\n    /**\r\n     * 移除监听\r\n     */\r\n    removeEvent:function () {\r\n        cc.systemEvent.off(msg.MATCHVS_ROOM_DETAIL,this.onEvent);\r\n        cc.systemEvent.off(msg.MATCHVS_SEND_EVENT_NOTIFY,this.onEvent);\r\n        cc.systemEvent.off(msg.MATCHVS_SEND_EVENT_RSP,this.onEvent);\r\n        cc.systemEvent.off(msg.MATCHVS_ERROE_MSG,this.onEvent);\r\n        cc.systemEvent.off(msg.MATCHVS_FRAME_UPDATE,this.onEvent);\r\n        cc.systemEvent.off(msg.PLAYER_POSINTON,this.onEvent);\r\n        cc.systemEvent.off(msg.MATCHVS_LEAVE_ROOM_NOTIFY,this.onEvent);\r\n        cc.systemEvent.off(msg.MATCHVS_LEAVE_ROOM,this.onEvent);\r\n        cc.systemEvent.off(msg.MATCHVS_NETWORK_STATE_NOTIFY,this.onEvent);\r\n        cc.systemEvent.off(msg.MATCHVS_SET_FRAME_SYNC_RSP,this.onEvent);\r\n    },\r\n    onDestroy: function () {\r\n        this.removeEvent();\r\n        \r\n        GLB.syncFrame = false;\r\n        GLB.isGameOver = true;\r\n    },\r\n});\r\n"]}