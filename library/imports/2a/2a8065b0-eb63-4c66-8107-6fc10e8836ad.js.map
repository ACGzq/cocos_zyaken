{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\MatchvsLib/assets\\scripts\\MatchvsLib\\MatchvsDemoResponse.js"],"names":["mvs","require","msg","GLB","MatchvsDemoResponse","prototype","bind","response","initResponse","registerUserResponse","loginResponse","logoutResponse","reconnectResponse","errorResponse","joinRoomResponse","joinRoomNotify","leaveRoomResponse","leaveRoomNotify","joinOpenResponse","joinOpenNotify","joinOverResponse","joinOverNotify","getRoomListExResponse","createRoomResponse","kickPlayerResponse","kickPlayerNotify","getRoomDetailResponse","setRoomPropertyResponse","setRoomPropertyNotify","sendEventResponse","sendEventNotify","frameUpdate","networkStateNotify","setFrameSyncResponse","gameServerNotify","eventInfo","event","cc","Event","action","srcUserID","cpProto","systemEvent","dispatchEvent","status","console","log","sendEventToUI","MATCHVS_INIT","type","error","message","userInfo","name","userID","avatar","MATCHVS_REGISTER_USER","MsLoginRsp","MATCHVS_LOGIN","roomUserInfoList","roomInfo","roomID","roomProperty","state","ownerID","MATCHVS_RE_CONNECT","errorCode","errorMsg","MATCHVS_ERROE_MSG","userInfoList","MATCHVS_JOIN_ROOM_RSP","roomUserInfo","MATCHVS_JOIN_ROOM_NOTIFY","notify","MATCHVS_JOIN_OPEN_NOTIFY","rsp","MATCHVS_JOIN_OPEN_RSP","MATCHVS_JOIN_OVER_RSP","MATCHVS_JOIN_OVER_NOTIFY","leaveRoomRsp","MATCHVS_LEAVE_ROOM","leaveRoomInfo","MATCHVS_LEAVE_ROOM_NOTIFY","MATCHVS_ROOM_LIST_EX","MATCHVS_CREATE_ROOM","kickPlayerRsp","MATCHVS_KICK_PLAYER","MATCHVS_KICK_PLAYER_NOTIFY","MATCHVS_SET_ROOM_PROPETY","MATCHVS_SET_ROOM_PROPETY_NOTIFY","MATCHVS_ROOM_DETAIL","sendEventRsp","MATCHVS_SEND_EVENT_RSP","MATCHVS_SEND_EVENT_NOTIFY","MATCHVS_SET_FRAME_SYNC_RSP","data","MATCHVS_FRAME_UPDATE","netNotify","owner","MATCHVS_NETWORK_STATE_NOTIFY","onMsg","buf","JSON","parse","MATCHVS_WX_BINDING","userList","Array","roomUserInfoListChangeNotify","player","push","i","length","splice","sort","sortNumber","swapArray","obj1","obj2","userID1","userID2","arr","index1","index2","module","exports"],"mappings":"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","file":"MatchvsDemoResponse.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\MatchvsLib","sourcesContent":["let mvs = require(\"Matchvs\");\nlet msg = require(\"MatvhvsMessage\");\nlet GLB = require(\"../interface/Glb\");\nfunction MatchvsDemoResponse() {\n\n}\n\n// //使用外部传递的原型进行传递事件\n// MatchvsDemoResponse.prototype.init = function (Context) {\n//     this.context = Context;\n// };\n\n/**\n * 绑定所有的回调事件\n */\nMatchvsDemoResponse.prototype.bind = function () {\n    mvs.response.initResponse = this.initResponse.bind(this);\n    mvs.response.registerUserResponse = this.registerUserResponse.bind(this);\n    mvs.response.loginResponse = this.loginResponse.bind(this);\n    mvs.response.logoutResponse = this.logoutResponse.bind(this);\n    mvs.response.reconnectResponse = this.reconnectResponse.bind(this);\n    mvs.response.errorResponse = this.errorResponse.bind(this);\n    mvs.response.joinRoomResponse = this.joinRoomResponse.bind(this);\n    mvs.response.joinRoomNotify = this.joinRoomNotify.bind(this);\n    mvs.response.leaveRoomResponse = this.leaveRoomResponse.bind(this);\n    mvs.response.leaveRoomNotify = this.leaveRoomNotify.bind(this);\n    mvs.response.joinOpenResponse = this.joinOpenResponse.bind(this);\n    mvs.response.joinOpenNotify = this.joinOpenNotify.bind(this);\n    mvs.response.joinOverResponse = this.joinOverResponse.bind(this);\n    mvs.response.joinOverNotify = this.joinOverNotify.bind(this);\n    mvs.response.getRoomListExResponse = this.getRoomListExResponse.bind(this);\n    mvs.response.createRoomResponse = this.createRoomResponse.bind(this);\n    mvs.response.kickPlayerResponse = this.kickPlayerResponse.bind(this);\n    mvs.response.kickPlayerNotify = this.kickPlayerNotify.bind(this);\n    mvs.response.getRoomDetailResponse = this.getRoomDetailResponse.bind(this);\n    mvs.response.setRoomPropertyResponse = this.setRoomPropertyResponse.bind(this);\n    mvs.response.setRoomPropertyNotify = this.setRoomPropertyNotify.bind(this);\n    mvs.response.sendEventResponse = this.sendEventResponse.bind(this);\n    mvs.response.sendEventNotify = this.sendEventNotify.bind(this);\n    mvs.response.frameUpdate = this.frameUpdate.bind(this);\n    mvs.response.networkStateNotify = this.networkStateNotify.bind(this);\n    mvs.response.setFrameSyncResponse = this.setFrameSyncResponse.bind(this);\n    mvs.response.gameServerNotify = this.gameServerNotify.bind(this);\n};\n\nMatchvsDemoResponse.prototype.gameServerNotify =function (eventInfo) {\n    //大概是这么写的\n        let event = new cc.Event(action,true);\n        event[\"data\"] = eventInfo.srcUserID+eventInfo.cpProto;\n        cc.systemEvent.dispatchEvent(event);\n    \n   \n}\n/**\n * 初始化回调\n */\nMatchvsDemoResponse.prototype.initResponse =function (status) {\n    try{\n        if (status === 200) {\n            console.log(\"初始化成功\");\n            MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_INIT,{status:status,type:msg.MATCHVS_INIT});\n        } else {\n            console.log(\"初始化失败\"+status);\n        }\n    } catch(error){\n        console.log(error.message);\n    }\n\n};\n\n/**\n* 注册回调\n*/\nMatchvsDemoResponse.prototype.registerUserResponse = function (userInfo) {\n    if (userInfo.status === 0) {\n        console.log(\"注册成功\");\n        if (userInfo.name !== \"\") {\n            GLB.name = userInfo.name;\n        } else {\n            GLB.name = userInfo.userID;\n        }\n        GLB.avatar = userInfo.avatar;\n        GLB.userID = userInfo.userID;\n        MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_REGISTER_USER,{userInfo:userInfo,type:msg.MATCHVS_REGISTER_USER});\n    } else {\n        console.log(\"注册失败\"+userInfo.status);\n    }\n};\n\n/**\n*  登录回调\n*/\nMatchvsDemoResponse.prototype.loginResponse = function (MsLoginRsp) {\n    if (MsLoginRsp.status === 200) {\n        console.log(\"登录成功\");\n        MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_LOGIN,{MsLoginRsp:MsLoginRsp,type:msg.MATCHVS_LOGIN});\n    } else {\n        console.log(\"登录失败\"+ MsLoginRsp.status);\n    }\n};\n\n\nMatchvsDemoResponse.prototype.logoutResponse =function (status) {\n\n};\n\n/**\n * 重连回调\n * @param status\n * @param roomUserInfoList\n * @param roomInfo\n */\nMatchvsDemoResponse.prototype.reconnectResponse = function (status,roomUserInfoList,roomInfo) {\n    if(status === 200) {\n        console.log(\"重连成功\");\n        roomUserInfoList.roomID = roomInfo.roomID;\n        roomUserInfoList.roomProperty = roomInfo.roomProperty;\n        roomUserInfoList.state = roomInfo.state;\n        roomUserInfoList.ownerID = roomInfo.ownerID;\n        MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_RE_CONNECT,{roomUserInfoList:roomUserInfoList,type:msg.MATCHVS_RE_CONNECT});\n    } else {\n        console.log(\"重连失败\"+status);\n    }\n};\n\n/**\n * 错误回调\n * @param errorCode\n * @param errorMsg\n */\nMatchvsDemoResponse.prototype.errorResponse = function (errorCode,errorMsg) {\n    console.log(\"发生错误了！！！\");\n    MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_ERROE_MSG, {errorCode,errorMsg,type:msg.MATCHVS_ERROE_MSG});\n};\n\n/**\n * 进入房间回调\n * @param status\n * @param userInfoList\n * @param roomInfo\n */\nMatchvsDemoResponse.prototype.joinRoomResponse = function (status, userInfoList, roomInfo) {\n    if (status === 200) {\n        console.log(\"进入房间成功\");\n        userInfoList.roomID = roomInfo.roomID;\n        MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_JOIN_ROOM_RSP,{userInfoList:userInfoList,type:msg.MATCHVS_JOIN_ROOM_RSP});\n        // var player ={userID:GLB.userID,userName: GLB.name};\n        // MatchvsDemoResponse.prototype.roomUserInfoListChangeNotify(userInfoList,\"joinRoom\",player,roomInfo.owner);\n    } else {\n        console.log(\"进入房间失败\"+status);\n    }\n};\n\n/**\n * 其他玩家进入房间通知\n * @param roomUserInfo\n */\nMatchvsDemoResponse.prototype.joinRoomNotify = function (roomUserInfo) {\n    console.log(roomUserInfo.userID+\"加入了房间\");\n    // var player ={userID:roomUserInfo.userID,userName: roomUserInfo.userProfile};\n    // MatchvsDemoResponse.prototype.roomUserInfoListChangeNotify(roomUserInfo,\"joinRoomNotify\",player,0);\n    MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_JOIN_ROOM_NOTIFY,{roomUserInfo:roomUserInfo,type:msg.MATCHVS_JOIN_ROOM_NOTIFY});\n};\n\n/**\n * 房间打开通知\n * @param notify\n */\nMatchvsDemoResponse.prototype.joinOpenNotify = function (notify) {\n    console.log(\"房间打开通知\");\n    MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_JOIN_OPEN_NOTIFY,{notify,type:msg.MATCHVS_JOIN_OPEN_NOTIFY});\n};\n\n/**\n * 房间打开回调\n * @param rsp\n */\nMatchvsDemoResponse.prototype.joinOpenResponse =function (rsp) {\n    if (rsp.status === 200) {\n        console.log(\"房间打开成功\");\n        MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_JOIN_OPEN_RSP,{rsp,type:msg.MATCHVS_JOIN_OPEN_RSP});\n    } else {\n        console.log(\"房间打开失败\"+rsp.status);\n    }\n\n};\n\n/**\n * 房间关闭回调\n * @param rsp\n */\nMatchvsDemoResponse.prototype.joinOverResponse = function (rsp) {\n    if(rsp.status === 200) {\n        console.log(\"房间关闭成功\");\n        MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_JOIN_OVER_RSP,{rsp,type:msg.MATCHVS_JOIN_OVER_RSP});\n    } else  {\n        console.log(\"房间关闭失败\"+rsp.status);\n    }\n};\n/**\n * 房间关闭通知\n * @param notify\n */\nMatchvsDemoResponse.prototype.joinOverNotify = function (notify) {\n    console.log(\"房间关闭通知\");\n    MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_JOIN_OVER_NOTIFY,{notify,type:msg.MATCHVS_JOIN_OVER_NOTIFY});\n};\n\n/**\n * 离开房间回调\n * @param leaveRoomRsp\n */\nMatchvsDemoResponse.prototype.leaveRoomResponse = function (leaveRoomRsp) {\n    if (leaveRoomRsp.status === 200) {\n        console.log(\"离开房间成功\");\n        // var player ={userID:leaveRoomRsp.userID,userName: leaveRoomRsp.cpProto};\n        // MatchvsDemoResponse.prototype.roomUserInfoListChangeNotify(leaveRoomRsp,\"leaveRoom\",player,0);\n        MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_LEAVE_ROOM,{leaveRoomRsp,type:msg.MATCHVS_LEAVE_ROOM});\n    } else {\n        console.log(\"离开房间失败\"+leaveRoomRsp.status);\n    }\n};\n\n/**\n * 离开房间通知\n * @param leaveRoomInfo\n */\nMatchvsDemoResponse.prototype.leaveRoomNotify = function (leaveRoomInfo) {\n    // var player ={userID:leaveRoomInfo.userID,userName: leaveRoomInfo.cpProto};\n    // MatchvsDemoResponse.prototype.roomUserInfoListChangeNotify(leaveRoomInfo,\"leaveRoom\",player,leaveRoomInfo.owner);\n    MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_LEAVE_ROOM_NOTIFY,{leaveRoomInfo:leaveRoomInfo,type:msg.MATCHVS_LEAVE_ROOM_NOTIFY});\n};\n\n/**\n * 获取房间列表扩展接口\n * @param rsp\n */\nMatchvsDemoResponse.prototype.getRoomListExResponse = function (rsp) {\n    if (rsp.status === 200) {\n        console.log(\"获取房间列表扩展接口成功\");\n        MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_ROOM_LIST_EX,{rsp:rsp,type:msg.MATCHVS_ROOM_LIST_EX});\n    } else {\n        console.log(\"获取房间列表扩展接口失败 status\" + rsp.status);\n    }\n};\n\n/**\n * 创建指定类型房间回调\n * @param rsp\n */\nMatchvsDemoResponse.prototype.createRoomResponse = function (rsp) {\n    if (rsp.status === 200) {\n        console.log(\"创建指定类型房间接口成功\");\n        // var player ={userID:GLB.userID,userName:  GLB.name};\n        // MatchvsDemoResponse.prototype.roomUserInfoListChangeNotify([],\"joinRoom\",player,GLB.userID);\n        MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_CREATE_ROOM,{rsp:rsp,type:msg.MATCHVS_CREATE_ROOM});\n    } else {\n        console.log(\"创建指定类型房间接口失败 status\" + rsp.status);\n    }\n};\n\n/**\n * 踢出指定玩家回调\n * @param kickPlayerRsp\n */\nMatchvsDemoResponse.prototype.kickPlayerResponse = function (kickPlayerRsp) {\n    if (kickPlayerRsp.status === 200) {\n        console.log(\"踢出指定玩家成功\");\n        // var player ={userID:kickPlayerRsp.userID,userName: \"\"};\n        // MatchvsDemoResponse.prototype.roomUserInfoListChangeNotify(kickPlayerRsp,\"leaveRoom\",player,kickPlayerRsp.owner);\n        MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_KICK_PLAYER,{kickPlayerRsp:kickPlayerRsp,type:msg.MATCHVS_KICK_PLAYER} );\n    } else {\n        console.log(\"踢出指定玩家失败 status\" + kickPlayerRsp.status);\n    }\n};\n\n/**\n * 踢出指定玩家通知\n * @param kickPlayerNotify\n */\nMatchvsDemoResponse.prototype.kickPlayerNotify = function (kickPlayerNotify) {\n    console.log(\"踢出指定玩家通知\");\n    // var player ={userID:kickPlayerNotify.userID,userName: kickPlayerNotify.cpProto};\n    // MatchvsDemoResponse.prototype.roomUserInfoListChangeNotify(kickPlayerNotify,\"leaveRoom\",player,kickPlayerNotify.owner);\n    MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_KICK_PLAYER_NOTIFY, {kickPlayerNotify:kickPlayerNotify,type:msg.MATCHVS_KICK_PLAYER_NOTIFY});\n};\n\n/**\n * 修改房间属性回调\n * @param rsp\n */\nMatchvsDemoResponse.prototype.setRoomPropertyResponse = function (rsp) {\n    if (rsp.status === 200) {\n        console.log(\"修改房间属性成功\");\n        MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_SET_ROOM_PROPETY, {rsp:rsp,type:msg.MATCHVS_SET_ROOM_PROPETY});\n    } else {\n        console.log(\"修改房间属性失败 status\" + rsp.status);\n    }\n};\n/**\n * 修改房间属性通知\n * @param rsp\n */\nMatchvsDemoResponse.prototype.setRoomPropertyNotify = function (rsp) {\n    console.log(\"修改房间属性通知\");\n    console.log(rsp.userID+\"修改了房间属性，新的房间属性是\"+rsp.roomProperty);\n    MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_SET_ROOM_PROPETY_NOTIFY, {rsp:rsp,type:msg.MATCHVS_SET_ROOM_PROPETY_NOTIFY});\n};\n\n/**\n * 获取房间详情\n * @param rsp\n */\nMatchvsDemoResponse.prototype.getRoomDetailResponse = function (rsp) {\n    if (rsp.status === 200) {\n        MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_ROOM_DETAIL,{rsp:rsp,type:msg.MATCHVS_ROOM_DETAIL});\n        console.log(\"获取房间详情成功\");\n    } else {\n        console.log(\"获取房间详情失败 status \"+ rsp.status);\n    }\n};\n\n/**\n * 发送消息\n * @param sendEventRsp\n */\nMatchvsDemoResponse.prototype.sendEventResponse = function (sendEventRsp) {\n    if (sendEventRsp.status === 200) {\n        MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_SEND_EVENT_RSP,{sendEventRsp,type:msg.MATCHVS_SEND_EVENT_RSP});\n    } else {\n        console.log(\"发送消息失败 status\"+sendEventRsp.status);\n    }\n};\n\n/**\n * 发送消息通知\n * @param eventInfo\n */\nMatchvsDemoResponse.prototype.sendEventNotify = function (eventInfo) {\n    MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_SEND_EVENT_NOTIFY,{eventInfo:eventInfo,type:msg.MATCHVS_SEND_EVENT_NOTIFY});\n};\n\nMatchvsDemoResponse.prototype.setFrameSyncResponse = function (rsp) {\n    MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_SET_FRAME_SYNC_RSP,{rsp,type:msg.MATCHVS_SET_FRAME_SYNC_RSP});\n    if (rsp.status === 200) {\n        console.log('帧率设置成功');\n    } else if (rsp.status === 519 ) {\n        console.log('帧率设置失败,重复设置');\n    } else if (rsp.status === 500) {\n        console.log('帧率设置失败,帧率需被1000整除');\n    }\n};\n\n/**\n * 帧同步回调\n * @param data\n */\nMatchvsDemoResponse.prototype.frameUpdate = function (data) {\n    MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_FRAME_UPDATE, {data:data,type:msg.MATCHVS_FRAME_UPDATE});\n};\n\nMatchvsDemoResponse.prototype.networkStateNotify = function (netNotify) {\n    console.log(\"netNotify.owner:\" + netNotify.owner);\n    MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_NETWORK_STATE_NOTIFY,{netNotify:netNotify,type:msg.MATCHVS_NETWORK_STATE_NOTIFY});\n};\n\nMatchvsDemoResponse.prototype.onMsg = function (buf) {\n    let data = JSON.parse(buf);\n    MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_WX_BINDING,{data:data.data,type:msg.MATCHVS_WX_BINDING});\n};\n\nlet userList = new Array();\n/**\n * 房间内玩家变化接口\n * @param data 进入房间的数据\n * @param action 动作类型 例如 加入  退出\n * @param userID 执行动作的玩家\n * @param ownerID 房间的房主ID\n */\nMatchvsDemoResponse.prototype.roomUserInfoListChangeNotify = function (data,action,player,ownerID) {\n    switch (action) {\n        case \"joinRoom\":\n            userList = data;\n            userList.push(player);\n            break;\n        case \"joinRoomNotify\":\n            userList.push(player);\n            break;\n        case \"leaveRoom\":\n            for(var i = 0; i < userList.length;i++) {\n                if (player.userID === userList[i].userID) {\n                    userList.length = 0;\n                    break;\n                }\n                if (userList[i].userID === player.userID) {\n                    userList.splice(i,1);\n                }\n            }\n            break;\n    }\n    userList.sort(MatchvsDemoResponse.prototype.sortNumber);\n    for(var i = 0; i < userList.length;i++) {\n        if (ownerID === userList[i].userID) {\n            MatchvsDemoResponse.prototype.swapArray(userList,i,0);\n        }\n    }\n    // MatchvsDemoResponse.prototype.sendEventToUI(msg.MATCHVS_ROOM_USERLIST_CHANGE_NOTIFY,{userList:userList,type:msg.MATCHVS_ROOM_USERLIST_CHANGE_NOTIFY});\n};\n\n/**\n * 排序\n * @param obj1\n * @param obj2\n * @returns {number}\n */\nMatchvsDemoResponse.prototype.sortNumber = function(obj1,obj2) {\n    var userID1 = obj1.userID;\n    var userID2 = obj2.userID;\n    if (userID1 < userID2) {\n        return -1;\n    } else if (userID1 > userID2) {\n        return 1;\n    } else {\n        return 0;\n    }\n};\n\n/**\n * 交换位置，把房主放到第一位\n * @param arr\n * @param index1\n * @param index2\n * @returns {*}\n */\nMatchvsDemoResponse.prototype.swapArray = function(arr, index1, index2) {\n    arr[index1] = arr.splice(index2, 1, arr[index1])[0];\n    return arr;\n};\n\n/**\n * 全局发送消息\n * @param action\n * @param data\n */\nMatchvsDemoResponse.prototype.sendEventToUI = function (action,data) {\n    let event = new cc.Event(action,true);\n    event[\"data\"] = data;\n    cc.systemEvent.dispatchEvent(event);\n};\n\nmodule.exports = MatchvsDemoResponse;\n\n"]}